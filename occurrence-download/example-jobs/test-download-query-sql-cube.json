{
  "sendNotification": true,
  "creator": "MattBlissett",
  "notification_address": ["mblissett@gbif.org"],
  "format": "SQL_TSV_ZIP",
  "sql": "SELECT \"year\", eeaCellCode(1000, decimallatitude, decimallongitude, COALESCE(coordinateUncertaintyInMeters, 1000)) AS eeaCellCode, occurrence.speciesKey, COUNT(*), MIN(COALESCE(coordinateUncertaintyInMeters, 1000)) AS \"minCoordinateUncertaintyInMeters\" FROM occurrence WHERE occurrenceStatus = 'PRESENT' AND speciesKey IS NOT NULL AND NOT stringArrayContains(issue, 'ZERO_COORDINATE', false) AND NOT stringArrayContains(issue, 'COORDINATE_OUT_OF_RANGE', false) AND NOT stringArrayContains(issue, 'COORDINATE_INVALID', false) AND NOT stringArrayContains(issue, 'COUNTRY_COORDINATE_MISMATCH', false) AND (identificationVerificationStatus IS NULL OR NOT (LOWER(identificationVerificationStatus) LIKE '%unverified%' OR LOWER(identificationVerificationStatus) LIKE '%unvalidated%' OR LOWER(identificationVerificationStatus) LIKE '%not able to validate%' OR LOWER(identificationVerificationStatus) LIKE '%control could not be conclusive due to insufficient knowledge%' OR LOWER(identificationVerificationStatus) LIKE '%unconfirmed%' OR LOWER(identificationVerificationStatus) LIKE '%unconfirmed - not reviewed%' OR LOWER(identificationVerificationStatus) LIKE '%validation requested%')) AND countryCode = 'SI' AND \"year\" > 1000 AND hasCoordinate GROUP BY \"year\", eeaCellCode, speciesKey ORDER BY \"year\" DESC, eeaCellCode ASC, speciesKey ASC, (occurrence.occurrencestatus = 'PRESENT' AND occurrence.specieskey IS NOT NULL AND NOT STRINGARRAYCONTAINS(occurrence.issue, 'ZERO_COORDINATE', FALSE) AND NOT STRINGARRAYCONTAINS(occurrence.issue, 'COORDINATE_OUT_OF_RANGE', FALSE) AND NOT STRINGARRAYCONTAINS(occurrence.issue, 'COORDINATE_INVALID', FALSE) AND NOT STRINGARRAYCONTAINS(occurrence.issue, 'COUNTRY_COORDINATE_MISMATCH', FALSE) AND (occurrence.identificationverificationstatus IS NULL OR NOT (LOWER(occurrence.identificationverificationstatus) LIKE '%unverified%' OR LOWER(occurrence.identificationverificationstatus) LIKE '%unvalidated%' OR LOWER(occurrence.identificationverificationstatus) LIKE '%not able to validate%' OR LOWER(occurrence.identificationverificationstatus) LIKE '%control could not be conclusive due to insufficient knowledge%' OR LOWER(occurrence.identificationverificationstatus) LIKE '%unconfirmed%' OR LOWER(occurrence.identificationverificationstatus) LIKE '%unconfirmed - not reviewed%' OR LOWER(occurrence.identificationverificationstatus) LIKE '%validation requested%')) AND occurrence.countrycode = 'SI' AND occurrence.year > 1000 AND occurrence.hascoordinate"
}
